<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2.1. MolSSI Formatting Guidelines for Machine Learning Products &mdash; MolSSI Guidelines, Checklists and Best Practices b9e2892 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MP6QMKL');</script>
<!-- End Google Tag Manager -->

  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. High-Performance Computing Guidelines" href="../hpc/index.html" />
    <link rel="prev" title="2. Machine Learning Guidelines" href="index.html" /> 
</head>

<body class="wy-body-for-nav">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MP6QMKL"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
 

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MolSSI Guidelines, Checklists and Best Practices
          </a>
              <div class="version">
                b9e2892
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../zenodo/index.html">1. MolSSI Guidelines for Software Publications on Zenodo Platform</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../zenodo/zenodo_publishing.html">1.1. MolSSI Publishing Guidelines on Zenodo Platform</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2. Machine Learning Guidelines</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.1. MolSSI Formatting Guidelines for Machine Learning Products</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hpc/index.html">3. High-Performance Computing Guidelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hpc/hpc_apod_guidelines.html">3.1. MolSSI Guidelines on APOD Cyclic Parallelization Strategy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">4. References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">5. Acknowledgements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MolSSI Guidelines, Checklists and Best Practices</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">2. </span>Machine Learning Guidelines</a> &raquo;</li>
      <li><span class="section-number">2.1. </span>MolSSI Formatting Guidelines for Machine Learning Products</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/ml/ml_formatting_guidelines.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="molssi-formatting-guidelines-for-machine-learning-products">
<span id="ml-guidelines"></span><h1><span class="section-number">2.1. </span>MolSSI Formatting Guidelines for Machine Learning Products<a class="headerlink" href="#molssi-formatting-guidelines-for-machine-learning-products" title="Permalink to this headline"></a></h1>
<ul class="simple">
<li><p>Source: <a class="reference external" href="https://doi.org/10.5281/zenodo.5389982"><img alt="ml_badge" src="https://zenodo.org/badge/DOI/10.5281/zenodo.5389982.svg" /></a></p></li>
</ul>
<p>This document presents a set of guidelines and best practices for formatting machine learning (ML) products (e.g., datasets,
modules, models, <em>etc.</em>) before submitting them on the <a class="reference external" href="https://zenodo.org/">Zenodo</a>  platform and tagging them to one or
more curated MolSSI community collections.</p>
<section id="requirements-and-policies">
<h2><span class="section-number">2.1.1. </span>Requirements and Policies<a class="headerlink" href="#requirements-and-policies" title="Permalink to this headline"></a></h2>
<section id="prerequisites">
<h3><span class="section-number">2.1.1.1. </span>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline"></a></h3>
<p>Before getting started, please take a glance at the
<a class="reference external" href="https://doi.org/10.5281/zenodo.5290616">MolSSI Publishing Guidelines on Zenodo Platform</a> to familiarize yourself with
the basic mechanics and recommended strategies for publishing your software products on Zenodo.</p>
</section>
<section id="dataset-file-formats">
<h3><span class="section-number">2.1.1.2. </span>Dataset File Formats<a class="headerlink" href="#dataset-file-formats" title="Permalink to this headline"></a></h3>
<p>Datasets are tables of data hosting instances (chemical species such as atoms, molecules, macromolecules <em>etc.</em>) in rows and features
or descriptors in columns. Each label results from an experimental observation or theoretical calculation and corresponds to a feature.
As such, labels are stored at the intersection of each row and column.</p>
<p>We recognize two main conceptual categories for featurizing the input data: (i) geometrical data (e.g., coordinates, connectivities,
atomic symbols, <em>etc.</em>), and (ii) chemical features (e.g., energetics, electronic properties <em>etc.</em>).</p>
<section id="geometrical-data">
<h4><em>Geometrical Data</em><a class="headerlink" href="#geometrical-data" title="Permalink to this headline"></a></h4>
<p>Representation of geometrical data pertinent to individual chemical species such as molecules (or monomers, dimers, polymers, clusters, unit
cells, <em>etc.</em>) is dependent upon the task and adopted ML algorithm. In general, the raw information on individual molecular structures
should be stored as separate files within a subfolder of the root directory called geometries. The recommended file format for storing
geometrical data is the <a class="reference external" href="https://en.wikipedia.org/wiki/Chemical_table_file">Chemical Table Format (*.mol*)</a> which allows for a convenient
usage of popular and free chemical data conversion toolkits such as <a class="reference external" href="http://openbabel.org/wiki/Main_Page">Open Babel</a>. This representation
is probably most useful before training each model since the majority of the ML models require a featurized version of these structures into
a numerical representation or embedding.</p>
<p>For molecules with no bonding information, it is acceptable to use the <a class="reference external" href="https://en.wikipedia.org/wiki/XYZ_file_format">XYZ file format (*.xyz*)</a> while for periodic (crystalline) systems the <a class="reference external" href="https://en.wikipedia.org/wiki/Crystallographic_Information_File">Crystallographic Information File (*.cif*)</a> would be appropriate, while for biomolecules the closely related
<a class="reference external" href="https://en.wikipedia.org/wiki/Crystallographic_Information_File">Macromolecular Crystallographic Information File (*.cif* or *.mmcif*)</a>
is usually the best choice.</p>
<p>The text-based molecular structure representations such as
<a class="reference external" href="https://en.wikipedia.org/wiki/Simplified_molecular-input_line-entry_system">Simplified Molecular-Input Line-Entry System (SMILES)</a>
provide an alternative to geometrical coordinates and are comparatively straightforward to be stored in the dataset tables.
SMILES are often precursors for an embedded vector representation of the input structures. Software packages such as
<a class="reference external" href="https://www.rdkit.org/">RDKit</a> cheminformatics program and <a class="reference external" href="http://openbabel.org/wiki/Main_Page">Open Babel</a> toolkit provide
modules for the featurization of the SMILES into acceptable representations for ML algorithms. These representations, for example,
can be based on graph convolutions, physical properties or <em>extended-connectivity fingerprints (ECFPs)</em>.</p>
</section>
<section id="chemical-features">
<h4><em>Chemical Features</em><a class="headerlink" href="#chemical-features" title="Permalink to this headline"></a></h4>
<p>MolSSI’s recommendation for storing the features such as SMILES, energetics or property values is the <em>comma-separated value (CSV)</em>
format. This file should be stored in the root directory of the main dataset repository as <code class="docutils literal notranslate"><span class="pre">&lt;dataset_name&gt;_meta.csv</span></code>. This provides a
coherent and convenient way for popular tools such as the <a class="reference external" href="https://pandas.pydata.org/">Pandas</a> library in python to perform the
input/output (I/O) operations and easily convert them between the popular storage formats such as <a class="reference external" href="https://www.hdfgroup.org/">hierarchical data format (HDF)</a>, JSON <em>etc.</em>.</p>
</section>
</section>
<section id="metadata-file-formats">
<h3><span class="section-number">2.1.1.3. </span>Metadata File Formats<a class="headerlink" href="#metadata-file-formats" title="Permalink to this headline"></a></h3>
<p>MolSSI encourages all users to carefully record their metadata in a separate <code class="docutils literal notranslate"><span class="pre">&lt;dataset_name&gt;_meta.csv</span></code> file and store it in
the root directory of the main dataset repository. Each row in the metadata table should correspond to a column label
[the headline (first) row of the main dataset CSV file] and should at least, describe its type accompanied by a short
description of what they are referring to. For example, molecular charge is often of integer type and reflects the electrical
charge on the molecule at its ground electronic state in vacuum.</p>
</section>
<section id="naming-conventions">
<h3><span class="section-number">2.1.1.4. </span>Naming Conventions<a class="headerlink" href="#naming-conventions" title="Permalink to this headline"></a></h3>
<p>In order to make both I/O, query and search operations more convenient, all geometrical files within geometries folder should
be named as <code class="docutils literal notranslate"><span class="pre">&lt;dataset_name&gt;_&lt;id&gt;.mol</span></code> where the name of the dataset in the all-lowercase form is appended by its dataset table
<code class="docutils literal notranslate"><span class="pre">id</span></code> and separated by an underscore. Each <code class="docutils literal notranslate"><span class="pre">id</span></code> is an integer type value located at the first column of the dataset table and
corresponds to an individual chemical species included in the geometry <em>.mol</em> files.</p>
<p>For performance reasons, a large number of geometry files can be batched into separate subfolders of the geometries folder and
sorted according to the <code class="docutils literal notranslate"><span class="pre">geometries/&lt;batch_number&gt;</span></code> naming convention. For the sake of consistency, all file names, feature
titles, and labels should be in lowercase.</p>
</section>
<section id="data-types">
<h3><span class="section-number">2.1.1.5. </span>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline"></a></h3>
<p>Depending on the nature of the data object, both features and labels can assume different data types.</p>
<section id="scalar-quantities">
<h4><em>Scalar Quantities</em><a class="headerlink" href="#scalar-quantities" title="Permalink to this headline"></a></h4>
<p>Numerical-type scalar properties such as molecular charge can be stored as integers or floats with different bit lengths.</p>
</section>
<section id="vector-quantities">
<h4><em>Vector Quantities</em><a class="headerlink" href="#vector-quantities" title="Permalink to this headline"></a></h4>
<p>By default, the elements of the dense vector quantities such as multiple moments should be stored in separate columns.
For dense vectors of variable length, however, multiple techniques can be adopted. Since the majority of ML models require
the input vectors of the same length, it is possible to find the dimension of the largest vector and pad the other smaller-size
vector instances with zeros. Popular ML frameworks such as TensorFlow provide data preprocessing tools to deal with these cases.
Nevertheless, zero padding wastes the storage resources. In some cases, we might choose to organize such variable length features
in separate <code class="docutils literal notranslate"><span class="pre">&lt;feature&gt;.csv</span></code> files in the root directory and deal with them differentlly alongside describing the details of the
adopted approach in the corresponding <code class="docutils literal notranslate"><span class="pre">&lt;dataset_name&gt;_meta.csv</span></code> file. MolSSI’s recommendation, however, is to keep the number of
files in the root directory to its minimum.</p>
<p>Another way is to store the vector elements is to serialize the vector to a string or byte representation. The former representation
might not be economical for very large datasets while the latter might be more appropriate for I/O operations via limited bandwidths
over the network.</p>
</section>
<section id="higher-order-1-tensor-quantities">
<h4><em>Higher-order (&gt;1) Tensor Quantities</em><a class="headerlink" href="#higher-order-1-tensor-quantities" title="Permalink to this headline"></a></h4>
<p>Dense matrices and higher dimensional tensors can be flattened to their one dimensional counterparts and treated like vectors.
For sparse matrices and higher dimensional tensors, however, ML frameworks usually provide tools to use the sparsity or manipulate
the representation such as converting it to a one-hot for classification tasks. There are also libraries that can handle the
packing/unpacking operations for sparse matrices and tensors such as <a class="reference external" href="http://arma.sourceforge.net/">Armadillo</a> in C++ and
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/sparse.html">scipy.sparse</a> in python. Should the user decide to use a different
approach that is not supported by the existing tools, the details of packing/unpacking of the tensor elements should be explicitly
delineated in the metadata <code class="docutils literal notranslate"><span class="pre">&lt;dataset_name&gt;_meta.csv</span></code> or <code class="docutils literal notranslate"><span class="pre">Readme.md</span></code> file in the root directory of the main repository. MolSSI
recommends the authors to provide scripts or utility modules in order to assist the data engineering process. The corresponding
tools should be placed in the <code class="docutils literal notranslate"><span class="pre">utility</span></code> subfolder in the root directory.</p>
</section>
<section id="non-numerical-quantities">
<h4><em>Non-numerical Quantities</em><a class="headerlink" href="#non-numerical-quantities" title="Permalink to this headline"></a></h4>
<p>Non-numerical quantities such as SMILES, by construction, can be stored in the string format for each instance entry and as a
separate feature.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="2. Machine Learning Guidelines" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../hpc/index.html" class="btn btn-neutral float-right" title="3. High-Performance Computing Guidelines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  

<p>
<div class="row">
  <div class="column_left">
    <a href="https://molssi.org/" target="_blank" title="Go to MolSSI in a new tab">
      <img src="https://molssi.github.io/molssi-guidelines/_images/MolSSI.jpg" alt="The MolSSI" style="border:0;">
    </a>
  </div>
  <div class="column">
    &copy; Copyright 2021, the Molecular Sciences Software Institute,
    which receives funding from the National Science Foundation under awards OAC-1547580 and CHE-2136142
  </div>
  <div class="column_right">
    <a href="https://nsf.gov/" target="_blank" title="Go to the NSF in a new tab">
      <img src="https://molssi.github.io/molssi-guidelines/_images/NSF_4-Color_bitmap_Logo.png" alt="The NSF" style="border:0;">
    </a>
  </div>
</div>
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" />
</a>
<br />This work is licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
  Creative Commons Attribution-ShareAlike 4.0 International License
</a>.


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>